import { Steps, Cards } from "nextra/components";
import { LinkButton } from "@/components/Button";

# Compiling Clockwork

<Steps>
  ### Install Node.js and Yarn
  Node.js 20 or higher, and Yarn 4.6 is required to compile Clockwork.

{" "}

<Cards style={{ width: 280 }}>
  <Cards.Card
    icon={<span class="material-symbols-rounded">link</span>}
    title="Install Node.js"
    href="https://nodejs.org/en/download"
  />
  <Cards.Card
    icon={<span class="material-symbols-rounded">link</span>}
    title="Install Yarn"
    href="https://yarnpkg.com/getting-started/install"
  />
</Cards>

### Clone the repository

```shell
git clone https://github.com/Turtlepaw/clockwork.git && cd clockwork
```

### Install dependencies

```shell
yarn install
```

### Compile Clockwork

```shell
yarn build
```

### You're done! ðŸŽ‰

Clockwork is now compiled and ready to use. There will be 3 executables generated in the project root:

- `clockwork-win`
- `clockwork-macos`
- `clockwork-linux`

</Steps>

## What happens when you run `yarn build`?

1. Compiles all the Typescript files in `./scripts` to Javascript files in `./build/scripts`
2. Bundles all the compiled javascript files and dependencies into `index.js`
3. Injects the current version found in `./package.json` into `./build/index.js`
4. Packages Node.js and `./build/index.js` into an executable for Linux, Mac OS, and Windows

This makes it work on devices even without Node.js installed!

##### Testing the auto updater

If you need to test the auto updater, temporarily set the `version` in `package.json` to something lower and recompile the executables, the version set in `package.json` will automatically be injected into the compiled javascript.
